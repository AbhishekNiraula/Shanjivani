<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shanjivani Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">

	<style>
		.pill {
			position: fixed;
			top: 0;
			right: 0;
			background-color: #333;
			color: white;
			padding: 0.5rem 1rem;
			border-radius: 0.5rem 0 0 0;
		}
	
		.card {
			background-color: white;
			padding: 1rem;
			margin: 1rem;
			border-radius: 0.5rem;
			box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
		}
	
		.emergency-alert {
			position: fixed;
			bottom: 0;
			left: 0;
			right: 0;
			background-color: red;
			color: white;
			padding: 1rem;
			display: none;
		}
	
		.emergency-alert.show {
			display: block;
		}
	
		.emergency-alert .alert {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}
	
		.emergency-alert .alert button {
			padding: 0.5rem 1rem;
			background-color: white;
			color: red;
			border: 1px solid white;
			border-radius: 0.5rem;
			cursor: pointer;
		}
		.close-alert {
			background: none;
			border: none;
			color: #721c24;
			font-size: 16px;
			cursor: pointer;
		}
		.close-alert i {
			pointer-events: none;
		}
		.fas {
			font-size: 16px;
		}
	</style>
</head>
<body>
    
    <div class="container-fluid dashboard-container">
        <h1 class="text-center my-4 ">Shanjivani Dashboard</h1>
    </div>

	<header>Real-Time Monitoring Dashboard</header>
    <div class="pill" id="mqtt-status">MQTT Connection: {{ 'Connected' if mqtt_connected else 'Disconnected' }}</div>
    <section>
        <div class="card">
            <h3>Distance Sensor</h3>
            <p id="distance-status">Distance: Loading...</p>
        </div>
        <div class="card">
            <h3>Air Quality</h3>
            <p id="air-quality-status">Air Quality: Loading...</p>
        </div>
    </section>

    <div class="emergency-alert" id="emergency-alert">
        <div class="alert">
            <i class="fas fa-exclamation-triangle"></i> Emergency Triggered!
            <p id="emergency-message"></p>
            <button onclick="window.location.href = '/emergency'">View Details</button>
        </div>
    </div>

    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>